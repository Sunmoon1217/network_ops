import{d as b,c as p,a as s,t as y,e as w,b as a,w as o,v as n,u as V,j as U,i as k,r as i,f as m,_ as x}from"./index-BPjY2MLL.js";import{a as C}from"./django_api-aive4Gka.js";const D={class:"device-create-container"},g={key:0,class:"error"},B={class:"form-actions"},N=["disabled"],q=b({__name:"DeviceCreate",setup(E){const v=k(),t=i({hostname:"",address:"",username:"",device_type:"",password:""}),r=i(!1),u=i(null);async function f(){r.value=!0,u.value=null;try{await C.post("/devices/",t.value),v.push("/devices")}catch(d){u.value=d instanceof Error?d.message:"Unknown error"}finally{r.value=!1}}return(d,e)=>(m(),p("div",D,[e[11]||(e[11]=s("h2",null,"新增设备",-1)),u.value?(m(),p("div",g,y(u.value),1)):w("",!0),s("form",{onSubmit:U(f,["prevent"]),class:"device-form"},[s("label",null,[e[6]||(e[6]=a(" 主机名 ",-1)),o(s("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>t.value.hostname=l),required:""},null,512),[[n,t.value.hostname]])]),s("label",null,[e[7]||(e[7]=a(" IP 地址 ",-1)),o(s("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>t.value.address=l),required:""},null,512),[[n,t.value.address]])]),s("label",null,[e[8]||(e[8]=a(" 用户名 ",-1)),o(s("input",{"onUpdate:modelValue":e[2]||(e[2]=l=>t.value.username=l)},null,512),[[n,t.value.username]])]),s("label",null,[e[9]||(e[9]=a(" 设备类型 ",-1)),o(s("input",{"onUpdate:modelValue":e[3]||(e[3]=l=>t.value.device_type=l)},null,512),[[n,t.value.device_type]])]),s("label",null,[e[10]||(e[10]=a(" 密码 ",-1)),o(s("input",{"onUpdate:modelValue":e[4]||(e[4]=l=>t.value.password=l),type:"password"},null,512),[[n,t.value.password]])]),s("div",B,[s("button",{type:"submit",disabled:r.value},"保存",8,N),s("button",{type:"button",onClick:e[5]||(e[5]=l=>V(v).push("/devices"))},"取消")])],32)]))}}),S=x(q,[["__scopeId","data-v-762ada13"]]);export{S as default};
